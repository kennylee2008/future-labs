---
title: >-
  How to use the github discussions to add a comment feature to your static
  website build with hexo?
date: 2021-09-20 14:31:18
tags:
  - Github
  - Comment
  - Hexo
  - Landscape
  - Giscus
---

# What's the idea?

My website was previously using Disqus for the comment system. After a while, I noticed that it automatically displayed a lot of ads. The number of ads was just too much, and the ads had little to do with my content. If I want to remove the ads, I need to pay money. So I decided to look for anothercomment system. Finally, I found [Giscus](https://giscus.app/), which is a system that uses the Discussions feature on Github to leave comments. Of course, there are some other systems that use Issue on Github to leave comments. But I don't really like the idea of using Issue on Github to record comments on a website. After all, Issue is different from comments. And Github's newly released Discussions feature was created to discuss issues, with the same purpose as website comments.

<!-- more -->

# What's the steps?

## Step 1 - Create a public repository in Github and let it to be prepared for integrating to your website

There are [detail descriptions](https://giscus.app/) in Giscus website.

The key points are:
1. Create a **public** repository with your Github account.
2. Enable the **Discussions Feature** which is disable by default for your repository.
3. [Install Giscus](https://github.com/apps/giscus) on your repository.
4. Use [Giscus Configration](https://giscus.app/) to configure the script for you.

This is a sample script generated by [Giscus Configration](https://giscus.app/):

```
<script src="https://giscus.app/client.js"
  data-repo="kennylee2008/future-labs"
  data-repo-id="MDEwOlJlcG9zaXRvcnkzOTMyMTkzMDQ="
  data-category="General"
  data-category-id="DIC_kwDOF3AM6M4B_Hfp"
  data-mapping="og:title"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-theme="light"
  crossorigin="anonymous"
  async>
</script>
```
I select the _og:title_ as the data mapping, because my website page has the og:title meta property.
![](2021-09-20T153649.png)

## Step 2 - Add the script to Hexo and Landscape theme

1. Add a configuration variable to the landscape theme configuration file

Add 
```
giscus:
  enable: true
```
to your _/themes/landscape/\_config.yml_ file.

2. Add script to your template

Add code 
```
<% if (theme.giscus.enable){ %>
  <script src="https://giscus.app/client.js"
  data-repo="kennylee2008/future-labs"
  data-repo-id="MDEwOlJlcG9zaXRvcnkzOTMyMTkzMDQ="
  data-category="General"
  data-category-id="DIC_kwDOF3AM6M4B_Hfp"
  data-mapping="og:title"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-theme="light"
  crossorigin="anonymous"
  async>
</script>
<% } %>
```
to your _/themes/landscape/layout/\_partial/after-tooter.ejs_ .

3. Add a **comment** link and the **comment UI** to the end of you article

Add code 

```
      <% if (post.comments && theme.giscus.enable){ %>
        <a href="<%- post.permalink %>#giscus_comments" class="article-comment-link"><%= __('comment') %></a>
      <% } %>
```

and 

```
<% if (!index && post.comments && theme.giscus.enable){ %>
  <section class="giscus" id="giscus_comments">
    <div id="giscus_thread">
      <noscript>Please enable JavaScript to view the comments powered by giscus.</noscript>
    </div>
  </section>
<% } %>
```
to _/themes/landscape/layout/\_partial/article.ejs_ .

![](2021-09-20T154355.png)
![](2021-09-20T154430.png)

# Enjoy it

Left a comment:

![](2021-09-20T154610.png)

On the **Discussions** tab of your repository:

![](2021-09-20T154726.png)

You can see all the comments there:

![](2021-09-20T154847.png)

**No Ads**
**Always Free**
**Data stored in your repository**


